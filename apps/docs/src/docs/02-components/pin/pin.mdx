import { Showcase } from '@site/src/lib/showcase'
import { Features, Feature } from '@site/src/lib/features'
import { Installation } from '@site/src/lib/installation'
import { Reference } from '@site/src/lib/reference'

# Pin

An input for typing pin codes / one time codes.

## Showcase

<Showcase name="pin" />

## Features

<Features>
	<Feature>Controlled or uncontrolled.</Feature>
	<Feature>Concealing the pin while typing.</Feature>
	<Feature>Auto complete one time codes.</Feature>
</Features>

## Installation

<Installation name="pin" />

## Reference

### Pin (Root)

Contains all the parts of an pin.

<Reference
	props={[
		{ name: 'asChild', type: 'boolean', defaultValue: 'false' },
		{
			name: 'conceal',
			type: 'PinConceal',
			typeAdvanced: 'string | { symbol: string; delay: number }',
			defaultValue: 'false'
		},
		{ name: 'disabled', type: 'boolean', defaultValue: 'false' },
		{ name: 'length', type: 'number', defaultValue: '4' },
		{
			name: 'type',
			type: 'PinType',
			typeAdvanced: "'alphabetic' | 'alphanumeric' | 'numeric'",
			defaultValue: 'alphanumeric'
		},
		{ name: 'value', type: 'string' }
	]}
/>

### PinInput

Used to render a hidden input which is accessible by keyboard. The input can be shown by setting `hidden` to false. It will auto complete one time codes by default, and handle sanitising of input based on root property `type`.

<Reference
	props={[
		{ name: 'asChild', type: 'boolean', defaultValue: 'false' },
		{ name: 'autoComplete', type: 'string', defaultValue: 'one-time-code' },
		{ name: 'hidden', type: 'boolean', defaultValue: 'true' }
	]}
/>

### PinLabel

Used to optionally render an input label, and attach it to the input so it is accessible. If omitted, you should add a label to the input with property `aria-label`, so the component stays accessible.

<Reference
	props={[{ name: 'asChild', type: 'boolean', defaultValue: 'false' }]}
	attrs={[{ name: 'data-disabled', description: 'disabled' }]}
/>

### PinGroup

Used to group slot items.

<Reference
	props={[{ name: 'asChild', type: 'boolean', defaultValue: 'false' }]}
/>

### PinSlots

Given the dynamic length of the pin, this utility component provides means to render slots of the pin using a render function as child.

<Reference
	props={[
		{
			name: 'children',
			type: 'function',
			typeAdvanced:
				'(type: { slot: number, value: string }, index: number ) => ReactNode'
		}
	]}
/>

### PinSlot

Used to render individual slots, it should be used in conjunction with the slots component. A slot will conceal its content based on the root property `conceal`, this concealing only occurs when slot has an internal value.

Clicking a slot will focus the input, therefore focus events should be attached to the input. The slot is primarily visual, and it provides `data-*` attributes enabling styling of the different states.

<Reference
	props={[
		{ name: 'asChild', type: 'boolean', defaultValue: 'false' },
		{ name: 'placeholder', type: 'string' }
	]}
	attrs={[
		{ name: 'data-caret', description: 'caret is shown' },
		{ name: 'data-concealed', description: 'slot is concealed' },
		{ name: 'data-disabled', description: 'slot is disabled' },
		{ name: 'data-end', description: 'slot is last slot' },
		{ name: 'data-focused', description: 'slot is focused' },
		{ name: 'data-placeholder', description: 'placeholder is shown' },
		{ name: 'data-start', description: 'slot is first slot' }
	]}
/>
